<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Oscar Nomination Form</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container">
      <h1 class="mt-5">Oscar Nomination Form</h1>

      <form id="oscar-form" class="mt-4">
        <div class="form-group">
          <label for="year">Year:</label>
          <input type="text" id="year" name="year" class="form-control" />
        </div>

        <div class="form-group">
          <label for="category">Category:</label>
          <input
            type="text"
            id="category"
            name="category"
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label for="nominee">Nominee:</label>
          <input type="text" id="nominee" name="nominee" class="form-control" />
        </div>

        <div class="form-group">
          <label for="info">Info:</label>
          <input type="text" id="info" name="info" class="form-control" />
        </div>

        <div class="form-group">
          <label for="won">Won:</label>
          <input type="text" id="won" name="won" class="form-control" />
        </div>

        <button type="button" id="getNominations" class="btn btn-danger mr-2">
          Get Nominations
        </button>
        <button
          type="button"
          onclick="getNominees()"
          class="btn btn-primary mr-2"
        >
          Get Nominees
        </button>
        <button
          type="button"
          onclick="clearInput()"
          class="btn btn-secondary mr-2"
        >
          Clear Input
        </button>
        <button type="button" onclick="clearOutput()" class="btn btn-secondary">
          Clear Output
        </button>
      </form>

      <div id="output" class="mt-4"></div>
    </div>

    <script>
      document
        .getElementById("getNominations")
        .addEventListener("click", getNominations);

      function getNominations() {
        // Fetch nominations from server and display in output area
        fetch("oscars.json")
          .then((response) => response.json())
          .then((data) => {
            const nominationsDiv = document.getElementById("output");
            const nomineeDiv = document.createElement("div");
            let nominations = "";
            data.forEach((nominee) => {
              let nomination = `
            <tr>
              <td>${nominee.Year}</td>
              <td>${nominee.Category}</td>
              <td>${nominee.Nominee}</td>
              <td>${nominee.Info}</td>
              <td>${nominee.Won}</td>
              </tr>
              `;
              nominations += nomination;
            });
            const header =
              '<thead class="thead-dark"><tr><th>Year</th><th>Category</th><th>Nominee</th><th>Info</th><th>Won?</th></tr></thead>';
            nomineeDiv.innerHTML = `<table class="table table-striped">${header}<tbody>${nominations}</tbody></table>`;
            nominationsDiv.appendChild(nomineeDiv);
          })
          .catch((error) =>
            console.error("Error fetching the JSON file:", error)
          );
      }

      function getNominees() {
        // Fetch nominees from server and display in output area
        document.getElementById("output").innerText =
          "Nominees retrieved from server.";
      }

      function clearInput() {
        // Clear all input fields
        document.getElementById("oscar-form").reset();
      }

      function clearOutput() {
        // Clear output area
        document.getElementById("output").innerText = "";
      }
    </script>

    <!-- Bootstrap JS (optional) -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  </body>
</html>
